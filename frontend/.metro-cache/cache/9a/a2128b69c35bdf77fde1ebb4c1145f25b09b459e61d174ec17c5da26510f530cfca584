{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":50,"index":97}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":98},"end":{"line":3,"column":49,"index":147}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  exports.useApiCall = useApiCall;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const getToken = async () => {\n    try {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem('session_token');\n      }\n      return await SecureStore.getItemAsync('session_token');\n    } catch {\n      return null;\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${BACKEND_URL}/api`\n  });\n\n  // Add auth interceptor\n  api.interceptors.request.use(async config => {\n    const token = await getToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  });\n  function useApiCall() {\n    _s();\n    const [data, setData] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const execute = (0, _react.useCallback)(async config => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await api(config);\n        setData(response.data);\n        return response.data;\n      } catch (err) {\n        const message = err.response?.data?.detail || err.message || 'An error occurred';\n        setError(message);\n        return null;\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    return {\n      data,\n      loading,\n      error,\n      execute\n    };\n  }\n  _s(useApiCall, \"KAL+iPg9IaW2ZfVmfZeH9LyV14k=\");\n});","lineCount":94,"map":[[28,2,19,0,"Object"],[28,8,19,0],[28,9,19,0,"defineProperty"],[28,23,19,0],[28,24,19,0,"exports"],[28,31,19,0],[29,4,19,0,"enumerable"],[29,14,19,0],[30,4,19,0,"get"],[30,7,19,0],[30,18,19,0,"get"],[30,19,19,0],[31,6,19,0],[31,13,19,0,"api"],[31,16,19,0],[32,4,19,0],[33,2,19,0],[34,2,32,0,"exports"],[34,9,32,0],[34,10,32,0,"useApiCall"],[34,20,32,0],[34,23,32,0,"useApiCall"],[34,33,32,0],[35,2,54,1],[35,6,54,1,"_expoVirtualEnv"],[35,21,54,1],[35,24,54,1,"require"],[35,31,54,1],[35,32,54,1,"_dependencyMap"],[35,46,54,1],[36,2,1,0],[36,6,1,0,"_react"],[36,12,1,0],[36,15,1,0,"require"],[36,22,1,0],[36,23,1,0,"_dependencyMap"],[36,37,1,0],[37,2,2,0],[37,6,2,0,"_axios"],[37,12,2,0],[37,15,2,0,"require"],[37,22,2,0],[37,23,2,0,"_dependencyMap"],[37,37,2,0],[38,2,2,0],[38,6,2,0,"axios"],[38,11,2,0],[38,14,2,0,"_interopDefault"],[38,29,2,0],[38,30,2,0,"_axios"],[38,36,2,0],[39,2,3,0],[39,6,3,0,"_expoSecureStore"],[39,22,3,0],[39,25,3,0,"require"],[39,32,3,0],[39,33,3,0,"_dependencyMap"],[39,47,3,0],[40,2,3,0],[40,6,3,0,"SecureStore"],[40,17,3,0],[40,20,3,0,"_interopNamespace"],[40,37,3,0],[40,38,3,0,"_expoSecureStore"],[40,54,3,0],[41,2,3,49],[41,6,3,49,"_reactNativeWebDistExportsPlatform"],[41,40,3,49],[41,43,3,49,"require"],[41,50,3,49],[41,51,3,49,"_dependencyMap"],[41,65,3,49],[42,2,3,49],[42,6,3,49,"Platform"],[42,14,3,49],[42,17,3,49,"_interopDefault"],[42,32,3,49],[42,33,3,49,"_reactNativeWebDistExportsPlatform"],[42,67,3,49],[43,2,6,0],[43,8,6,6,"BACKEND_URL"],[43,19,6,17],[43,22,6,20,"_expoVirtualEnv"],[43,37,6,20],[43,38,6,20,"env"],[43,41,6,20],[43,42,6,20,"EXPO_PUBLIC_BACKEND_URL"],[43,65,6,20],[43,69,6,59],[43,71,6,61],[44,2,8,0],[44,8,8,6,"getToken"],[44,16,8,14],[44,19,8,17],[44,25,8,17,"getToken"],[44,26,8,17],[44,31,8,53],[45,4,9,2],[45,8,9,6],[46,6,10,4],[46,10,10,8,"Platform"],[46,18,10,16],[46,19,10,16,"default"],[46,26,10,16],[46,27,10,17,"OS"],[46,29,10,19],[46,34,10,24],[46,39,10,29],[46,41,10,31],[47,8,11,6],[47,15,11,13,"localStorage"],[47,27,11,25],[47,28,11,26,"getItem"],[47,35,11,33],[47,36,11,34],[47,51,11,49],[47,52,11,50],[48,6,12,4],[49,6,13,4],[49,13,13,11],[49,19,13,17,"SecureStore"],[49,30,13,28],[49,31,13,29,"getItemAsync"],[49,43,13,41],[49,44,13,42],[49,59,13,57],[49,60,13,58],[50,4,14,2],[50,5,14,3],[50,6,14,4],[50,12,14,10],[51,6,15,4],[51,13,15,11],[51,17,15,15],[52,4,16,2],[53,2,17,0],[53,3,17,1],[54,2,19,7],[54,8,19,13,"api"],[54,11,19,16],[54,14,19,19,"axios"],[54,19,19,24],[54,20,19,24,"default"],[54,27,19,24],[54,28,19,25,"create"],[54,34,19,31],[54,35,19,32],[55,4,20,2,"baseURL"],[55,11,20,9],[55,13,20,11],[55,16,20,14,"BACKEND_URL"],[55,27,20,25],[56,2,21,0],[56,3,21,1],[56,4,21,2],[58,2,23,0],[59,2,24,0,"api"],[59,5,24,3],[59,6,24,4,"interceptors"],[59,18,24,16],[59,19,24,17,"request"],[59,26,24,24],[59,27,24,25,"use"],[59,30,24,28],[59,31,24,29],[59,37,24,36,"config"],[59,43,24,42],[59,47,24,47],[60,4,25,2],[60,10,25,8,"token"],[60,15,25,13],[60,18,25,16],[60,24,25,22,"getToken"],[60,32,25,30],[60,33,25,31],[60,34,25,32],[61,4,26,2],[61,8,26,6,"token"],[61,13,26,11],[61,15,26,13],[62,6,27,4,"config"],[62,12,27,10],[62,13,27,11,"headers"],[62,20,27,18],[62,21,27,19,"Authorization"],[62,34,27,32],[62,37,27,35],[62,47,27,45,"token"],[62,52,27,50],[62,54,27,52],[63,4,28,2],[64,4,29,2],[64,11,29,9,"config"],[64,17,29,15],[65,2,30,0],[65,3,30,1],[65,4,30,2],[66,2,32,7],[66,11,32,16,"useApiCall"],[66,21,32,26,"useApiCall"],[66,22,32,26],[66,24,32,32],[67,4,32,32,"_s"],[67,6,32,32],[68,4,33,2],[68,10,33,8],[68,11,33,9,"data"],[68,15,33,13],[68,17,33,15,"setData"],[68,24,33,22],[68,25,33,23],[68,28,33,26],[68,32,33,26,"useState"],[68,38,33,34],[68,39,33,34,"useState"],[68,47,33,34],[68,49,33,45],[68,53,33,49],[68,54,33,50],[69,4,34,2],[69,10,34,8],[69,11,34,9,"loading"],[69,18,34,16],[69,20,34,18,"setLoading"],[69,30,34,28],[69,31,34,29],[69,34,34,32],[69,38,34,32,"useState"],[69,44,34,40],[69,45,34,40,"useState"],[69,53,34,40],[69,55,34,41],[69,60,34,46],[69,61,34,47],[70,4,35,2],[70,10,35,8],[70,11,35,9,"error"],[70,16,35,14],[70,18,35,16,"setError"],[70,26,35,24],[70,27,35,25],[70,30,35,28],[70,34,35,28,"useState"],[70,40,35,36],[70,41,35,36,"useState"],[70,49,35,36],[70,51,35,52],[70,55,35,56],[70,56,35,57],[71,4,37,2],[71,10,37,8,"execute"],[71,17,37,15],[71,20,37,18],[71,24,37,18,"useCallback"],[71,30,37,29],[71,31,37,29,"useCallback"],[71,42,37,29],[71,44,37,30],[71,50,37,37,"config"],[71,56,37,63],[71,60,37,87],[72,6,38,4,"setLoading"],[72,16,38,14],[72,17,38,15],[72,21,38,19],[72,22,38,20],[73,6,39,4,"setError"],[73,14,39,12],[73,15,39,13],[73,19,39,17],[73,20,39,18],[74,6,40,4],[74,10,40,8],[75,8,41,6],[75,14,41,12,"response"],[75,22,41,20],[75,25,41,23],[75,31,41,29,"api"],[75,34,41,32],[75,35,41,33,"config"],[75,41,41,39],[75,42,41,40],[76,8,42,6,"setData"],[76,15,42,13],[76,16,42,14,"response"],[76,24,42,22],[76,25,42,23,"data"],[76,29,42,27],[76,30,42,28],[77,8,43,6],[77,15,43,13,"response"],[77,23,43,21],[77,24,43,22,"data"],[77,28,43,26],[78,6,44,4],[78,7,44,5],[78,8,44,6],[78,15,44,13,"err"],[78,18,44,21],[78,20,44,23],[79,8,45,6],[79,14,45,12,"message"],[79,21,45,19],[79,24,45,22,"err"],[79,27,45,25],[79,28,45,26,"response"],[79,36,45,34],[79,38,45,36,"data"],[79,42,45,40],[79,44,45,42,"detail"],[79,50,45,48],[79,54,45,52,"err"],[79,57,45,55],[79,58,45,56,"message"],[79,65,45,63],[79,69,45,67],[79,88,45,86],[80,8,46,6,"setError"],[80,16,46,14],[80,17,46,15,"message"],[80,24,46,22],[80,25,46,23],[81,8,47,6],[81,15,47,13],[81,19,47,17],[82,6,48,4],[82,7,48,5],[82,16,48,14],[83,8,49,6,"setLoading"],[83,18,49,16],[83,19,49,17],[83,24,49,22],[83,25,49,23],[84,6,50,4],[85,4,51,2],[85,5,51,3],[85,7,51,5],[85,9,51,7],[85,10,51,8],[86,4,53,2],[86,11,53,9],[87,6,53,11,"data"],[87,10,53,15],[88,6,53,17,"loading"],[88,13,53,24],[89,6,53,26,"error"],[89,11,53,31],[90,6,53,33,"execute"],[91,4,53,41],[91,5,53,42],[92,2,54,0],[93,2,54,1,"_s"],[93,4,54,1],[93,5,32,16,"useApiCall"],[93,15,32,26],[94,0,32,26],[94,3]],"functionMap":{"names":["<global>","getToken","api.interceptors.request.use$argument_0","useApiCall","execute"],"mappings":"AAA;iBCO;CDS;6BEO;CFM;OGE;8BCK;GDc;CHG"},"hasCjsExports":false},"type":"js/module"}]}