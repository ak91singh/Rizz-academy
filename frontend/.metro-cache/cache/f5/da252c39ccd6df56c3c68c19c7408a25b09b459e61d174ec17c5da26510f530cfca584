{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":50,"index":97}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":98},"end":{"line":3,"column":49,"index":147}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  exports.useApiCall = useApiCall;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const getToken = async () => {\n    try {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem('session_token');\n      }\n      return await SecureStore.getItemAsync('session_token');\n    } catch {\n      return null;\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${BACKEND_URL}/api`\n  });\n\n  // Add auth interceptor\n  api.interceptors.request.use(async config => {\n    const token = await getToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  });\n  function useApiCall() {\n    const [data, setData] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const execute = (0, _react.useCallback)(async config => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await api(config);\n        setData(response.data);\n        return response.data;\n      } catch (err) {\n        const message = err.response?.data?.detail || err.message || 'An error occurred';\n        setError(message);\n        return null;\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    return {\n      data,\n      loading,\n      error,\n      execute\n    };\n  }\n});","lineCount":90,"map":[[27,2,19,0,"Object"],[27,8,19,0],[27,9,19,0,"defineProperty"],[27,23,19,0],[27,24,19,0,"exports"],[27,31,19,0],[28,4,19,0,"enumerable"],[28,14,19,0],[29,4,19,0,"get"],[29,7,19,0],[29,18,19,0,"get"],[29,19,19,0],[30,6,19,0],[30,13,19,0,"api"],[30,16,19,0],[31,4,19,0],[32,2,19,0],[33,2,32,0,"exports"],[33,9,32,0],[33,10,32,0,"useApiCall"],[33,20,32,0],[33,23,32,0,"useApiCall"],[33,33,32,0],[34,2,1,0],[34,6,1,0,"_react"],[34,12,1,0],[34,15,1,0,"require"],[34,22,1,0],[34,23,1,0,"_dependencyMap"],[34,37,1,0],[35,2,2,0],[35,6,2,0,"_axios"],[35,12,2,0],[35,15,2,0,"require"],[35,22,2,0],[35,23,2,0,"_dependencyMap"],[35,37,2,0],[36,2,2,0],[36,6,2,0,"axios"],[36,11,2,0],[36,14,2,0,"_interopDefault"],[36,29,2,0],[36,30,2,0,"_axios"],[36,36,2,0],[37,2,3,0],[37,6,3,0,"_expoSecureStore"],[37,22,3,0],[37,25,3,0,"require"],[37,32,3,0],[37,33,3,0,"_dependencyMap"],[37,47,3,0],[38,2,3,0],[38,6,3,0,"SecureStore"],[38,17,3,0],[38,20,3,0,"_interopNamespace"],[38,37,3,0],[38,38,3,0,"_expoSecureStore"],[38,54,3,0],[39,2,3,49],[39,6,3,49,"_reactNativeWebDistExportsPlatform"],[39,40,3,49],[39,43,3,49,"require"],[39,50,3,49],[39,51,3,49,"_dependencyMap"],[39,65,3,49],[40,2,3,49],[40,6,3,49,"Platform"],[40,14,3,49],[40,17,3,49,"_interopDefault"],[40,32,3,49],[40,33,3,49,"_reactNativeWebDistExportsPlatform"],[40,67,3,49],[41,2,6,0],[41,8,6,6,"BACKEND_URL"],[41,19,6,17],[41,22,6,20,"process"],[41,29,6,27],[41,30,6,28,"env"],[41,33,6,31],[41,34,6,32,"EXPO_PUBLIC_BACKEND_URL"],[41,57,6,55],[41,61,6,59],[41,63,6,61],[42,2,8,0],[42,8,8,6,"getToken"],[42,16,8,14],[42,19,8,17],[42,25,8,17,"getToken"],[42,26,8,17],[42,31,8,53],[43,4,9,2],[43,8,9,6],[44,6,10,4],[44,10,10,8,"Platform"],[44,18,10,16],[44,19,10,16,"default"],[44,26,10,16],[44,27,10,17,"OS"],[44,29,10,19],[44,34,10,24],[44,39,10,29],[44,41,10,31],[45,8,11,6],[45,15,11,13,"localStorage"],[45,27,11,25],[45,28,11,26,"getItem"],[45,35,11,33],[45,36,11,34],[45,51,11,49],[45,52,11,50],[46,6,12,4],[47,6,13,4],[47,13,13,11],[47,19,13,17,"SecureStore"],[47,30,13,28],[47,31,13,29,"getItemAsync"],[47,43,13,41],[47,44,13,42],[47,59,13,57],[47,60,13,58],[48,4,14,2],[48,5,14,3],[48,6,14,4],[48,12,14,10],[49,6,15,4],[49,13,15,11],[49,17,15,15],[50,4,16,2],[51,2,17,0],[51,3,17,1],[52,2,19,7],[52,8,19,13,"api"],[52,11,19,16],[52,14,19,19,"axios"],[52,19,19,24],[52,20,19,24,"default"],[52,27,19,24],[52,28,19,25,"create"],[52,34,19,31],[52,35,19,32],[53,4,20,2,"baseURL"],[53,11,20,9],[53,13,20,11],[53,16,20,14,"BACKEND_URL"],[53,27,20,25],[54,2,21,0],[54,3,21,1],[54,4,21,2],[56,2,23,0],[57,2,24,0,"api"],[57,5,24,3],[57,6,24,4,"interceptors"],[57,18,24,16],[57,19,24,17,"request"],[57,26,24,24],[57,27,24,25,"use"],[57,30,24,28],[57,31,24,29],[57,37,24,36,"config"],[57,43,24,42],[57,47,24,47],[58,4,25,2],[58,10,25,8,"token"],[58,15,25,13],[58,18,25,16],[58,24,25,22,"getToken"],[58,32,25,30],[58,33,25,31],[58,34,25,32],[59,4,26,2],[59,8,26,6,"token"],[59,13,26,11],[59,15,26,13],[60,6,27,4,"config"],[60,12,27,10],[60,13,27,11,"headers"],[60,20,27,18],[60,21,27,19,"Authorization"],[60,34,27,32],[60,37,27,35],[60,47,27,45,"token"],[60,52,27,50],[60,54,27,52],[61,4,28,2],[62,4,29,2],[62,11,29,9,"config"],[62,17,29,15],[63,2,30,0],[63,3,30,1],[63,4,30,2],[64,2,32,7],[64,11,32,16,"useApiCall"],[64,21,32,26,"useApiCall"],[64,22,32,26],[64,24,32,32],[65,4,33,2],[65,10,33,8],[65,11,33,9,"data"],[65,15,33,13],[65,17,33,15,"setData"],[65,24,33,22],[65,25,33,23],[65,28,33,26],[65,32,33,26,"useState"],[65,38,33,34],[65,39,33,34,"useState"],[65,47,33,34],[65,49,33,45],[65,53,33,49],[65,54,33,50],[66,4,34,2],[66,10,34,8],[66,11,34,9,"loading"],[66,18,34,16],[66,20,34,18,"setLoading"],[66,30,34,28],[66,31,34,29],[66,34,34,32],[66,38,34,32,"useState"],[66,44,34,40],[66,45,34,40,"useState"],[66,53,34,40],[66,55,34,41],[66,60,34,46],[66,61,34,47],[67,4,35,2],[67,10,35,8],[67,11,35,9,"error"],[67,16,35,14],[67,18,35,16,"setError"],[67,26,35,24],[67,27,35,25],[67,30,35,28],[67,34,35,28,"useState"],[67,40,35,36],[67,41,35,36,"useState"],[67,49,35,36],[67,51,35,52],[67,55,35,56],[67,56,35,57],[68,4,37,2],[68,10,37,8,"execute"],[68,17,37,15],[68,20,37,18],[68,24,37,18,"useCallback"],[68,30,37,29],[68,31,37,29,"useCallback"],[68,42,37,29],[68,44,37,30],[68,50,37,37,"config"],[68,56,37,63],[68,60,37,87],[69,6,38,4,"setLoading"],[69,16,38,14],[69,17,38,15],[69,21,38,19],[69,22,38,20],[70,6,39,4,"setError"],[70,14,39,12],[70,15,39,13],[70,19,39,17],[70,20,39,18],[71,6,40,4],[71,10,40,8],[72,8,41,6],[72,14,41,12,"response"],[72,22,41,20],[72,25,41,23],[72,31,41,29,"api"],[72,34,41,32],[72,35,41,33,"config"],[72,41,41,39],[72,42,41,40],[73,8,42,6,"setData"],[73,15,42,13],[73,16,42,14,"response"],[73,24,42,22],[73,25,42,23,"data"],[73,29,42,27],[73,30,42,28],[74,8,43,6],[74,15,43,13,"response"],[74,23,43,21],[74,24,43,22,"data"],[74,28,43,26],[75,6,44,4],[75,7,44,5],[75,8,44,6],[75,15,44,13,"err"],[75,18,44,21],[75,20,44,23],[76,8,45,6],[76,14,45,12,"message"],[76,21,45,19],[76,24,45,22,"err"],[76,27,45,25],[76,28,45,26,"response"],[76,36,45,34],[76,38,45,36,"data"],[76,42,45,40],[76,44,45,42,"detail"],[76,50,45,48],[76,54,45,52,"err"],[76,57,45,55],[76,58,45,56,"message"],[76,65,45,63],[76,69,45,67],[76,88,45,86],[77,8,46,6,"setError"],[77,16,46,14],[77,17,46,15,"message"],[77,24,46,22],[77,25,46,23],[78,8,47,6],[78,15,47,13],[78,19,47,17],[79,6,48,4],[79,7,48,5],[79,16,48,14],[80,8,49,6,"setLoading"],[80,18,49,16],[80,19,49,17],[80,24,49,22],[80,25,49,23],[81,6,50,4],[82,4,51,2],[82,5,51,3],[82,7,51,5],[82,9,51,7],[82,10,51,8],[83,4,53,2],[83,11,53,9],[84,6,53,11,"data"],[84,10,53,15],[85,6,53,17,"loading"],[85,13,53,24],[86,6,53,26,"error"],[86,11,53,31],[87,6,53,33,"execute"],[88,4,53,41],[88,5,53,42],[89,2,54,0],[90,0,54,1],[90,3]],"functionMap":{"names":["<global>","getToken","api.interceptors.request.use$argument_0","useApiCall","execute"],"mappings":"AAA;iBCO;CDS;6BEO;CFM;OGE;8BCK;GDc;CHG"},"hasCjsExports":false},"type":"js/module"}]}